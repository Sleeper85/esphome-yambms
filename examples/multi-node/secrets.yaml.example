# YamBMS Multi-Node Secrets Configuration
# Copy this file to secrets.yaml and customize for your network
#
# Supports:
#   - MQTT Multi-Node (recommended - no hardware needed)
#   - TCP/Modbus Multi-Node (requires hardware bridge)
#   - Victron integration via MQTT (no CAN bus needed!)

# +--------------------------------------+
# | WiFi Configuration                   |
# +--------------------------------------+
wifi_ssid: "YourWiFiSSID"
wifi_password: "YourWiFiPassword"
domain: ".local"  # mDNS domain

# +--------------------------------------+
# | Network Configuration                |
# +--------------------------------------+

# IPv4 Network Settings
gateway_ipv4: "192.168.1.1"
subnet_ipv4: "255.255.255.0"
dns1_ipv4: "192.168.1.1"
dns2_ipv4: "8.8.8.8"  # Optional secondary DNS

# IPv6 Network Settings (optional)
gateway_ipv6: "fe80::1"  # Link-local gateway
dns1_ipv6: "2001:4860:4860::8888"  # Google DNS IPv6

# +--------------------------------------+
# | Server Node IP Addresses             |
# +--------------------------------------+

# Option 1: Static IPv4 Addresses (most reliable)
server1_ip: "192.168.1.101"
server2_ip: "192.168.1.102"
server3_ip: "192.168.1.103"
client_ip: "192.168.1.100"

# Option 2: mDNS Hostnames (easier management)
# Note: Hardware bridge may not support mDNS - use for MQTT instead
server1_hostname: "yambms-server-1"  # Resolves to yambms-server-1.local
server2_hostname: "yambms-server-2"
server3_hostname: "yambms-server-3"
client_hostname: "yambms-client"

# Option 3: IPv6 Addresses (advanced)
# Link-local (auto-configured, changes on reboot - not recommended)
# Global unicast (stable, requires IPv6 network)
server1_ipv6: "fd00::101"  # ULA (Unique Local Address)
server2_ipv6: "fd00::102"
server3_ipv6: "fd00::103"
client_ipv6: "fd00::100"

# +--------------------------------------+
# | MQTT Broker (Recommended!)           |
# +--------------------------------------+
#
# For MQTT Multi-Node AND/OR Victron integration
# Use mDNS hostname or IP address
mqtt_broker: "homeassistant.local"  # Or IP: 192.168.1.50
mqtt_port: "1883"
mqtt_username: "yambms"
mqtt_password: "your_mqtt_password"

# Optional: MQTT TLS/SSL (recommended for production)
# mqtt_port: "8883"
# mqtt_ca_cert: |
#   -----BEGIN CERTIFICATE-----
#   Your CA certificate here
#   -----END CERTIFICATE-----

# +--------------------------------------+
# | Victron Integration (Optional)       |
# +--------------------------------------+
#
# For Victron Cerbo GX via MQTT (eliminates CAN bus!)
# victron_mqtt_topic: "yambms/victron/battery"
# victron_vrm_id: "your_vrm_portal_id"

# +--------------------------------------+
# | Modbus TCP Bridge (Legacy)           |
# +--------------------------------------+
# Only if using TCP/Modbus instead of MQTT
# MQTT is recommended - no hardware bridge needed!
# modbus_bridge_ip: "192.168.1.105"
# modbus_bridge_port: "502"

# +--------------------------------------+
# | Web Server Authentication (optional) |
# +--------------------------------------+
# web_server_username: "admin"
# web_server_password: "your_web_password"

# +--------------------------------------+
# | AP Mode (fallback WiFi)              |
# +--------------------------------------+
ap_ssid: "YamBMS-Fallback"
ap_password: "yambms123456"

# +--------------------------------------+
# | OTA Password (optional)              |
# +--------------------------------------+
# ota_password: "your_ota_password"

# +--------------------------------------+
# | Notes                                |
# +--------------------------------------+
#
# RECOMMENDED ARCHITECTURE:
#   BMS Servers → MQTT Broker ← YamBMS Client → Victron Cerbo GX
#                                               (Network only, $0!)
#
#   Benefits:
#   - No hardware bridges needed
#   - No CAN bus hardware needed
#   - Native mDNS and IPv6 support
#   - Better performance
#   - Easier debugging
#   - Standard protocols (MQTT/JSON)
#
# IP ADDRESS PLANNING:
#   Choose ONE approach and stick with it:
#
#   1. Static IPv4 (Recommended for production)
#      - Most reliable
#      - Best for hardware bridges (if using TCP/Modbus)
#      - Easy troubleshooting
#
#   2. mDNS Hostnames (Perfect for MQTT!)
#      - Easier to remember (server1.local)
#      - No IP management needed
#      - Works great with MQTT (not with hardware Modbus bridge)
#      - Requires mDNS support on all devices
#
#   3. IPv6 (Advanced users)
#      - Future-proof
#      - More addresses available
#      - May have compatibility issues
#      - Use ULA (fd00::/8) for stability
#
# MQTT vs TCP/MODBUS:
#   MQTT (Recommended):
#   - $0 cost (no hardware)
#   - 0 GPIO pins
#   - Native mDNS/IPv6
#   - Better performance
#   - Easier debugging
#
#   TCP/Modbus (Legacy):
#   - $30-100 hardware bridge cost
#   - Requires static IPs
#   - More complex setup
#   - Good for legacy systems
#
# VICTRON INTEGRATION:
#   CAN Bus (Legacy):
#   - $20-50 CAN hardware
#   - 2 GPIO pins used
#   - Physical connection required
#
#   MQTT (Recommended):
#   - $0 cost (no hardware)
#   - 0 GPIO pins
#   - Network only
#   - Remote placement possible
#   - Easier debugging
#
# SECURITY:
#   - Never commit secrets.yaml to git!
#   - Add to .gitignore
#   - Use strong passwords
#   - Different passwords per service
#   - Enable TLS/SSL for production
#   - Consider network segmentation (VLANs)
#
# HOSTNAME CONVENTIONS:
#   - Use lowercase
#   - Use hyphens not underscores
#   - Keep under 63 characters
#   - No spaces or special characters
